# SNSシェア機能 - 実装ガイド

## 🚀 実装された機能

### ✅ 完了した機能
1. **SNSシェアボタン** - Twitter、LINE、Facebook、コピー機能
2. **自動シェアテキスト生成** - 出来事と意味づけを適切にフォーマット
3. **カスタムメッセージ機能** - ユーザーが自由に編集可能
4. **プライバシー配慮** - 確認ダイアログでシェア前に内容確認
5. **ハッシュタグ自動生成** - タグに応じたハッシュタグ追加

## 📱 シェア機能の詳細

### シェアテキストの構成
```
今日の気づき✨

出来事: [選択した出来事]
意味づけ: [ユーザーの意味づけ]

💭 [選択したタグ]

[モード別メッセージ]

#ことイミ日記 #意味づけ #気づき #内省 #マインドフルネス [動的ハッシュタグ]
```

### 対応SNS
- **Twitter** - 280文字制限に配慮
- **LINE** - LINE公式シェア機能
- **Facebook** - Facebook投稿機能
- **コピー** - クリップボードコピー

### 動的ハッシュタグ
- `positive` → `#ポジティブ`
- `learning` → `#学び`
- `growth` → `#成長`
- `challenge` → `#挑戦`

## 🔒 プライバシー対策

### 実装済み対策
1. **シェア前確認** - 内容を確認してからシェア
2. **個人情報除外** - user_idや個人特定可能情報は含めない
3. **カスタマイズ可能** - 不要な情報を削除・編集可能
4. **オプトイン** - シェアは完全に任意

### 設計思想
- **意図的なシェア** - ワンクリックではなく確認プロセス
- **コンテンツコントロール** - ユーザーが内容を完全制御
- **匿名性維持** - 研究データとの分離

## 🎨 UIデザイン

### カラーテーマ
- **Twitter**: #1da1f2 (青)
- **LINE**: #00c300 (緑)  
- **Facebook**: #4267b2 (青)
- **コピー**: #6c757d (グレー)

### インタラクション
- **ホバー効果** - ボタンが浮き上がる
- **確認ダイアログ** - 内容プレビュー付き
- **リアルタイムプレビュー** - カスタマイズ時の即座反映
- **文字数カウンター** - Twitter用の280文字制限表示

## 📊 使用例

### Soloモードの場合
```
今日の気づき✨

出来事: 雨に降られた
意味づけ: 突然の雨で濡れてしまったけど、雨の音を聞きながら歩くのは意外と心地よかった

💭 ポジティブ・受容

自分なりの意味づけを記録して、内省を深めました🤔

#ことイミ日記 #意味づけ #気づき #内省 #マインドフルネス #ポジティブ
```

### Socialモードの場合
```
今日の気づき✨

出来事: 仕事で失敗した
意味づけ: 失敗から学べることがたくさんあった

💭 学び・成長

他の人の多様な意味づけも見ることができて、新しい視点を得られました👀

#ことイミ日記 #意味づけ #気づき #内省 #マインドフルネス #学び #成長
```

## 🔧 技術実装

### JavaScript関数
- `generateShareText()` - シェアテキスト生成
- `shareToTwitter()` - Twitter投稿URL生成
- `shareToLine()` - LINE投稿URL生成
- `shareToFacebook()` - Facebook投稿URL生成
- `copyShareText()` - クリップボードコピー
- `customizeShareMessage()` - カスタマイズモーダル表示

### URL生成
```javascript
// Twitter
https://twitter.com/intent/tweet?text=${encodedText}

// LINE
https://social-plugins.line.me/lineit/share?text=${encodedText}

// Facebook
https://www.facebook.com/sharer/sharer.php?quote=${encodedText}
```

### クリップボードAPI
```javascript
await navigator.clipboard.writeText(text);
```

## 🎯 今後の拡張可能性

### 追加可能な機能
1. **Instagram Stories** - 画像付きシェア
2. **Slack/Discord** - チーム内シェア
3. **シェア統計** - どのSNSでよくシェアされるか
4. **テンプレート機能** - 複数のシェアテンプレート
5. **スケジュール投稿** - 後でシェア機能

### A/Bテスト項目
- ハッシュタグの組み合わせ効果
- メッセージフォーマットの反応率
- シェアボタンの配置・デザイン

## 📈 成功指標

### 測定可能な指標
- シェアボタンクリック率
- SNS別シェア率
- カスタマイズ機能使用率
- シェア後のアプリ再訪率

### ユーザビリティ指標
- シェア完了率
- カスタマイズ機能の利用時間
- エラー率（文字数制限等）

最終更新: 2025-09-21